{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/nuveraxgroup/openai-fine-tune-gpt-schema/blob/main/gpt-3.5-4o.schema.json",
  "title": "Fine-tune GPT 3.5 and 4o mini sample schema",
  "description": "JSON Lines sample dataset schema validator",
  "type": "object",
  "required": [ "messages" ],
  "properties": {
    "messages": {
      "description": "A list of messages comprising the conversation so far.",
      "type": "array",
      "items": {
        "type": "object",
        "required": [ "role", "content" ],
        "properties": {
          "role": {
            "description": "The role of the messages author.",
            "type": "string",
            "default": "system",
            "enum": ["system", "user", "assistant", "function"]
          },
          "content": {
            "description": "The contents of the message (not blank content).",
            "type": "string",
            "pattern": "^(?!\\s*$).+",
            "examples": [
              "This a good message example."
            ]
          },
          "name": {
            "description": "An optional name for the participant. Provides the model information to differentiate between participants of the same role.",
            "type": "string",
            "pattern": "^(?!\\s*$).+",
            "examples": [
              "my_person",
              "my_alter_ego"
            ]
          },
          "function_call": {
            "description": "Deprecated and replaced by tool_calls. The name and arguments of a function that should be called, as generated by the model.",
            "type": "object",
            "examples": [
              "my_function",
              "function_abc"
            ]
          },
          "weight": {
            "description": "Weight.",
            "type": "number"
          }
        },
        "additionalProperties": false
      },
      "contains": {
        "type": "object",
        "properties": {
          "role": {
            "const": "assistant"
          }
        },
        "required": ["role"]
      },
      "minItems": 3,
      "uniqueItems": true
    }
  },
  "additionalProperties": false
}
